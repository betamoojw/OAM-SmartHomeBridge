<?xml version="1.0" encoding="utf-8"?>
<?xml-model href="../../Organization/knxprod-support/knx_project_14/knx-editor.xsd" type="application/xml" schematypens="http://www.w3.org/2001/XMLSchema"?>
<KNX xmlns="http://knx.org/xml/project/14" xmlns:op="http://github.com/OpenKNX/OpenKNXproducer">
  <ManufacturerData>
    <Manufacturer RefId="M-00FA">
      <ApplicationPrograms>
        <ApplicationProgram Id="%AID%" ApplicationNumber="0" ApplicationVersion="0" ProgramType="ApplicationProgram" MaskVersion="MV-07B0" Name="KNX-Homekit-Bridge-Hue-Emulation" LoadProcedureStyle="MergedProcedure" PeiType="0" DefaultLanguage="de" DynamicTableManagement="false" Linkable="true" MinEtsVersion="4.0">
          <Static>
            <Parameters>
              <!-- Bridge Channel -->
              <Parameter Id="%AID%_P-%T%%CCC%001" Name="CH%C%DeviceType" ParameterType="%AID%_PT-DeviceType" Text="Gerät %C% Type" Value="0">
                <Memory CodeSegment="%AID%_RS-04-00000" Offset="0" BitOffset="0" />
              </Parameter>
              <Parameter Id="%AID%_P-%T%%CCC%002" Name="CH%C%DeviceName" ParameterType="%AID%_PT-DeviceName" Text="Gerät %C% Name" Value="Lampe %C%">
                <Memory CodeSegment="%AID%_RS-04-00000" Offset="1" BitOffset="0" />
              </Parameter>
              
              <!-- next is offset 26 !!! -->
            </Parameters>
            <ParameterRefs>
              <!-- ParameterRef have to be defined for each parameter, pay attention, that the ID-part (number) after R- is unique! -->
              <!-- ParameterRef are used in the ETS UI -->
              <ParameterRef Id="%AID%_P-%T%%CCC%001_R-%T%%CCC%00101" RefId="%AID%_P-%T%%CCC%001" />
              <ParameterRef Id="%AID%_P-%T%%CCC%002_R-%T%%CCC%00201" RefId="%AID%_P-%T%%CCC%002" />
            
            </ParameterRefs>
            <ComObjectTable>
              <!-- Bridge Channel %C% -->
              <ComObject Id="%AID%_O-%T%%CCC%001" Name="Switch%C%"             Text="Gerät %C% Schalten"              FunctionText="Gerät %C% Schalten"             Number="%K0%" ObjectSize="1 Bit"  ReadFlag="Disabled" WriteFlag="Disabled" CommunicationFlag="Enabled" TransmitFlag="Enabled"  UpdateFlag="Enabled" ReadOnInitFlag="Disabled" DatapointType="DPST-1-1" />  
              <ComObject Id="%AID%_O-%T%%CCC%002" Name="SwitchFeedback%C%"     Text="Gerät %C% Schalten Rückmeldung"  FunctionText="Gerät %C% Schalten Rückmeldung" Number="%K1%" ObjectSize="1 Bit"  ReadFlag="Disabled" WriteFlag="Enabled"  CommunicationFlag="Enabled" TransmitFlag="Disabled" UpdateFlag="Enabled" ReadOnInitFlag="Disabled" DatapointType="DPST-1-1" />
              <ComObject Id="%AID%_O-%T%%CCC%003" Name="Dimmer%C%"             Text="Gerät %C% Dimmer"                FunctionText="Gerät %C% Dimmer"               Number="%K2%" ObjectSize="1 Byte" ReadFlag="Disabled" WriteFlag="Disabled" CommunicationFlag="Enabled" TransmitFlag="Enabled"  UpdateFlag="Enabled" ReadOnInitFlag="Disabled" DatapointType="DPST-5-4" />
              <ComObject Id="%AID%_O-%T%%CCC%004" Name="DimmerFeedback%C%"     Text="Gerät %C% Dimmer Rückmeldung"    FunctionText="Gerät %C% Dimmer Rückmeldung"   Number="%K3%" ObjectSize="1 Byte" ReadFlag="Disabled" WriteFlag="Enabled"  CommunicationFlag="Enabled" TransmitFlag="Disabled" UpdateFlag="Enabled" ReadOnInitFlag="Disabled" DatapointType="DPST-5-4" />
            </ComObjectTable>
            <ComObjectRefs>
              <!-- Bridge Channel %C% -->
              <ComObjectRef Id="%AID%_O-%T%%CCC%001_R-%T%%CCC%00101" RefId="%AID%_O-%T%%CCC%001" Name="SCHALTEN_DPT_01"             Text="%C%: Schalten" FunctionText="{{0:-}} Schalten" Priority="Low" ObjectSize="1 Bit" WriteFlag="Enabled" CommunicationFlag="Enabled" DatapointType="DPST-1-1" TextParameterRefId="%AID%_P-%T%%CCC%002_R-%T%%CCC%00201" />
              <ComObjectRef Id="%AID%_O-%T%%CCC%002_R-%T%%CCC%00201" RefId="%AID%_O-%T%%CCC%002" Name="SCHALTEN_RÜCKMELDUNG_DPT_01" Text="%C%: Schalten Rückmeldung" FunctionText="{{0:-}} Schalten Rückmeldung" Priority="Low" ObjectSize="1 Bit" WriteFlag="Enabled" CommunicationFlag="Enabled" DatapointType="DPST-1-1" TextParameterRefId="%AID%_P-%T%%CCC%002_R-%T%%CCC%00201" />
              <ComObjectRef Id="%AID%_O-%T%%CCC%003_R-%T%%CCC%00301" RefId="%AID%_O-%T%%CCC%003" Name="DIMMER_DPT_05"               Text="%C%: Dimmer" FunctionText="{{0:-}} Dimmer" Priority="Low" ObjectSize="4 Bit" WriteFlag="Enabled" CommunicationFlag="Enabled" DatapointType="DPST-3-7" TextParameterRefId="%AID%_P-%T%%CCC%002_R-%T%%CCC%00201" />
              <ComObjectRef Id="%AID%_O-%T%%CCC%004_R-%T%%CCC%00401" RefId="%AID%_O-%T%%CCC%004" Name="DIMMER_RÜCKMELDUNG_DPT_05"   Text="%C%: Dimmer Rückmeldung" FunctionText="{{0:-}} Dimmer Rückmeldung" Priority="Low" ObjectSize="4 Bit" WriteFlag="Enabled" CommunicationFlag="Enabled" DatapointType="DPST-3-8" TextParameterRefId="%AID%_P-%T%%CCC%002_R-%T%%CCC%00201" />
            </ComObjectRefs>
          </Static>
          <!-- Here statrs the UI definition -->
          <Dynamic>
       
            <!-- The following block is always there -->
            <ChannelIndependentBlock>
              <ParameterBlock Id="%AID%_PB-3" Name="BridgeKanal" Text="Kanal %C% {{0:---}}" TextParameterRefId="%AID%_P-%T%%CCC%002_R-%T%%CCC%00201">
                <Channel Id="%AID%_CH-BRI%C%" Number="BRI%C%" Name="BridgeKanal%C%" Text="Kanal %CC% {{0:---}}" TextParameterRefId="%AID%_P-%T%%CCC%002_R-%T%%CCC%00201">
                  <ParameterBlock Id="%AID%_PB-BRI%C%Wrapper" Name="BridgeKanal%C%Wrapper" Text="Wrapper" Inline="true">       
                    <ParameterSeparator Id="%AID%_PS-1" Text="Kanaldefinition" UIHint="Headline" />
                    <ParameterRefRef RefId="%AID%_P-%T%%CCC%001_R-%T%%CCC%00101" />
                    <ParameterRefRef RefId="%AID%_P-%T%%CCC%002_R-%T%%CCC%00201" />
                    <choose ParamRefId="%AID%_P-%T%%CCC%001_R-%T%%CCC%00101">  <!-- Devie Type -->
                      <when test="1"> <!-- Switch -->
                        <ComObjectRefRef RefId="%AID%_O-%T%%CCC%001_R-%T%%CCC%00101" />
                        <ComObjectRefRef RefId="%AID%_O-%T%%CCC%002_R-%T%%CCC%00201" />
                      </when>
                    </choose>
                    <choose ParamRefId="%AID%_P-%T%%CCC%001_R-%T%%CCC%00101">  <!-- Devie Type -->
                      <when test="2"> <!-- Dimmer -->
                        <ComObjectRefRef RefId="%AID%_O-%T%%CCC%001_R-%T%%CCC%00101" />
                        <ComObjectRefRef RefId="%AID%_O-%T%%CCC%002_R-%T%%CCC%00201" />
                        <ComObjectRefRef RefId="%AID%_O-%T%%CCC%003_R-%T%%CCC%00301" />
                        <ComObjectRefRef RefId="%AID%_O-%T%%CCC%004_R-%T%%CCC%00401" />
                      </when>
                    </choose>

                  </ParameterBlock>
                </Channel>
              </ParameterBlock>
            </ChannelIndependentBlock>


          </Dynamic>
        </ApplicationProgram>
      </ApplicationPrograms>
    </Manufacturer>
  </ManufacturerData>
</KNX>